<% image = "https://cloud-rmjrb2y89-hack-club-bot.vercel.app/0oy1pj1mznloa96gh1sg-oiontn0tkxelxwjutwobkza.jpeg" %>

<%= render "shared/full_page_card", background_url: image do %>
  <%= image_tag "flag-standalone.svg", style: "max-width: 30%; margin-bottom: var(--spacing-3)" %>
  <h1>
    Apply to list your hackathon
  </h1>

  <div class="mb4">
    <p>
      If you'd like to list your hackathon on
      <%= link_to "hackathons.hackclub.com", Hackathons::WEBSITE, target: "_blank" %>,
      please fill out this form! We will get back to you within a couple days.
    </p>

    <p class="mb0">
      To be listed on our site, your hackathon must:
    </p>
    <ol class="mt0">
      <li class="m0">Be high school (or younger) student led</li>
      <li class="m0">Have a custom coded website on an event-specific domain (with open registrations!)</li>
    </ol>

    <p>
      If this isn’t the case, we won’t be able to include your hackathon.
    </p>
  </div>

  <%= form_with model: @hackathon, url: hackathons_submissions_path, class: "push--top" do |form| %>
    <div>
      <%= form.label :name, "Hackathon Name" %>
      <%= form.text_field :name, required: true, placeholder: "Assemble" %>
    </div>

    <div>
      <%= form.label :website %>
      <%= form.text_field :website, required: true, placeholder: "assemble.hackclub.com" %>
    </div>

    <div>
      <%= form.fields_for :applicant do |applicant_fields| %>
        <%= applicant_fields.label :email_address %>

        <% if Current.user %>
          <%= applicant_fields.email_field :email_address, value: Current.user.email_address, disabled: true %>
        <% else %>
          <%= applicant_fields.email_field :email_address, required: true %>
        <% end %>
      <% end %>
    </div>

    <div>
      <%= form.label :logo %>
      <%= form.file_field :logo %>
    </div>

    <div>
      <%= form.label :banner %>
      <%= form.file_field :banner %>
    </div>

    <div>
      <%= form.label :starts_at, "Start date" %>
      <%= form.date_field :starts_at, required: true %>
    </div>

    <div>
      <%= form.label :ends_at, "End date" %>
      <%= form.date_field :ends_at, required: true %>
    </div>

    <div>
      <%= form.label :address, "Location" %>
      <%= form.text_field :address, required: true, placeholder: "760 Market St, San Francisco, CA" %>
    </div>

    <div>
      <%= form.label :expected_attendees %>
      <%= form.number_field :expected_attendees, required: true %>
    </div>

    <div class="push--top">
      <%= form.check_box :offers_financial_assistance %>
      <%= form.label :offers_financial_assistance, "Does your hackathon offer financial assistance?" %>
    </div>

    <div data-controller="form--visibility" class="notice">
      <div>
        <%= form.check_box :requested_swag, data: {"form--visibility-target": "checkbox", "action": "change->form--visibility#toggle"} %>
        <%= form.label :requested_swag, "Would you like an envelope of stickers & postcards mailed to your address?" %>
      </div>

      <div data-form--visibility-target="element" style="display: none;" class="push--top">
        <%= form.fields_for :swag_mailing_address do |mailing_address_form| %>
          <%= render "mailing_addresses/fields", form: mailing_address_form %>
        <% end %>
      </div>
    </div>

    <%= form.button "Submit for Review" %>
  <% end %>
<% end %>
